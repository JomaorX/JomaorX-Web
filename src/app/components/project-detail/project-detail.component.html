<!-- project-detail.component.html -->
@if (!project) {
<div class="loading-spinner">
  <div class="text-load">
    <h2>
      Cargando Proyecto
      <mat-icon>traffic</mat-icon>
    </h2>
  </div>
  <mat-spinner></mat-spinner>
</div>
} @else {
<div class="main-container">
  <section class="con container-1">
    <div class="header-content">
      <h1>{{ project.title }}</h1>
      <span class="project-status" [class]="'status-' + project.status">
        {{
          project.status === "development"
            ? "EN DESARROLLO"
            : project.status === "live"
            ? "DISPONIBLE"
            : "ARCHIVADO"
        }}
      </span>
    </div>
    <p class="project-subtitle">{{ project.subtitle }}</p>
    <a
      mat-flat-button
      color="primary"
      href="{{ project.link }}"
      target="_blank"
      class="demo-button"
    >
      <mat-icon>public</mat-icon>
      Ver Demo
    </a>
  </section>

  <section class="con container-2">
    <div class="laptop-container">
      <img src="pantalla.png" alt="Laptop" class="laptop-image" />
      <div class="laptop-screen">
        <img
          [src]="project.photo"
          alt="foto del proyecto {{ project.title }}"
        />
      </div>
    </div>
  </section>

  <!-- Actualiza la sección de descripción para mejor formato -->
  <section class="con container-3">
    <h3>Descripción</h3>
    <div class="description-content">
      <!-- Usa <pre> para mantener saltos de línea -->
      <span>{{ project.description }}</span>
      <ul class="things-list">
        @for (thing of project.things; track $index) {
        <li class="thing-item">
          <mat-icon class="thing-icon">arrow_right</mat-icon>
          <span>{{ thing }}</span>
        </li>
        }
      </ul>
    </div>
  </section>

  <!-- Mejora la sección de aprendizajes -->
  <section class="con container-learnings">
    <h3>Aprendizajes</h3>
    <ul class="learnings-list">
      @for (learning of project.learnings; track $index) {
      <li class="learning-item">
        <mat-icon class="learning-icon">arrow_right</mat-icon>
        <span>{{ learning }}</span>
      </li>
      }
    </ul>
  </section>

  <section class="con container-features">
    <h3>Funcionalidades clave</h3>
    <ul class="features-list">
      @for (feature of project.features; track $index) {
      <li class="feature-item">
        <mat-icon class="feature-icon">arrow_right</mat-icon>
        <span>{{ feature }}</span>
      </li>
      }
    </ul>
  </section>

  <section class="con container-4">
    <h3>Herramientas utilizadas</h3>
    <mat-chip-set>
      @for (skill of project.skills; track $index) {
      <mat-chip>
        <i
          class="devicon-{{ skill.toLowerCase() }}-plain colored"
        ></i>
        {{ skill }}
      </mat-chip>
      }
    </mat-chip-set>
  </section>

  <section class="con container-4 links-section">
    <h3>Enlaces</h3>
    <div class="buttons-container">
      <a matFab extended href="{{ project.link }}" target="_blank">
        <mat-icon>public</mat-icon>
        Demo
      </a>
      @if (typeof project.code === 'string') {
      <a matFab extended href="{{ project.code }}" target="_blank">
        <mat-icon>code</mat-icon>
        Código
      </a>
      } @else {
      <a matFab extended href="{{ project.code.front }}" target="_blank">
        <mat-icon>code</mat-icon>
        Frontend
      </a>
      <a matFab extended href="{{ project.code.back }}" target="_blank">
        <mat-icon>code</mat-icon>
        Backend
      </a>
      }
    </div>
  </section>
</div>
}
